<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hasnain Watches â€“ Luxury Store</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Montserrat,sans-serif;background:#f7f7f7;color:#222}
.hidden{display:none}

/* LOGIN */
.login-page{position:fixed;inset:0;background:#fff;display:flex;align-items:center;justify-content:center;z-index:3000}
.login-box{width:100%;max-width:420px;padding:40px;border-radius:14px;border:1px solid #ddd;text-align:center}
.login-box h2{margin-bottom:25px;font-family:'Playfair Display',serif}
.login-box input{width:100%;padding:14px;margin-bottom:18px;border:1px solid #ccc;border-radius:8px}
.login-box button{width:100%;padding:14px;background:#000;color:#fff;border:none;cursor:pointer;border-radius:8px;margin-top:10px}

/* HEADER */
header{background:linear-gradient(135deg,#000,#2c2c2c);color:#fff;position:sticky;top:0;z-index:100}
.nav{max-width:1400px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:18px}
.logo{font-family:'Playfair Display',serif;font-size:1.7rem;font-weight:700}
.nav a{cursor:pointer;color:#fff;margin:0 16px;text-decoration:none;font-size:.95rem}
.nav a:hover{color:#d4af37}
.cart{cursor:pointer;font-weight:600}

/* PAGES */
.page{display:none;max-width:1400px;margin:auto;padding:70px 25px}
.page.active{display:block}

/* HERO */
.hero{height:90vh;background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),url('https://images.unsplash.com/photo-1523275335684-37898b6baf30') center/cover;display:flex;align-items:center;justify-content:center;text-align:center;color:#fff}
.hero h1{font-family:'Playfair Display',serif;font-size:3.8rem}
.hero p{font-size:1.2rem;color:#eee;margin:15px 0 30px}
.btn{background:#d4af37;color:#000;border:none;padding:14px 26px;border-radius:30px;font-size:1rem;font-weight:600;cursor:pointer}

.section-title{text-align:center;font-family:'Playfair Display',serif;font-size:2.4rem;margin-bottom:50px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:35px}
.card{background:#fff;border-radius:22px;box-shadow:0 18px 45px rgba(0,0,0,.14);overflow:hidden}
.card img{width:100%;height:300px;object-fit:cover}
.card .info{padding:24px}
.price{color:#d4af37;font-weight:700;margin:12px 0}

/* PAYMENT */
.payments-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:35px;text-align:center}

footer{background:#000;color:#fff;text-align:center;padding:40px;margin-top:80px}

/* CART */
.cart-modal{position:fixed;right:0;top:0;width:400px;height:100%;background:#fff;box-shadow:-10px 0 35px rgba(0,0,0,.35);padding:30px;transform:translateX(100%);transition:.35s;z-index:200}
.cart-modal.open{transform:translateX(0)}
.cart-item{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.cart-item img{width:50px;height:50px;border-radius:8px;object-fit:cover}
.success{background:#ecfff1;border-left:6px solid #2ecc71;padding:18px;border-radius:12px;margin-top:25px}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="login-page" id="loginPage">
  <div class="login-box">
    <h2>Login to Hasnain Watches</h2>
    <input id="loginEmail" placeholder="Email">
    <input id="loginPass" type="password" placeholder="Password">
    <button onclick="doLogin()">Login</button>
    <button onclick="googleLogin()">Continue with Google</button>
  </div>
</div>

<!-- SITE -->
<div id="site" class="hidden">
<header>
  <div class="nav">
    <div class="logo">Hasnain Watches</div>
    <div>
      <a onclick="showPage('home')">Home</a>
      <a onclick="showPage('men')">Men</a>
      <a onclick="showPage('women')">Women</a>
      <a onclick="showPage('smart')">Smart</a>
      <a onclick="showPage('payments')">Payments</a>
      <span class="cart" onclick="toggleCart()">ðŸ›’ <span id="cartCount">0</span></span>
    </div>
  </div>
</header>

<section id="home" class="page active">
  <div class="hero">
    <div>
      <h1>Luxury Watches That Make a Statement</h1>
      <p>Scroll & explore premium collections</p>
      <button class="btn" onclick="showPage('men')">Explore Collection</button>
    </div>
  </div>
</section>

<section id="men" class="page"><h2 class="section-title">Men's Watches</h2><div class="grid" id="menProducts"></div></section>
<section id="women" class="page"><h2 class="section-title">Women's Watches</h2><div class="grid" id="womenProducts"></div></section>
<section id="smart" class="page"><h2 class="section-title">Smart Watches</h2><div class="grid" id="smartProducts"></div></section>

<section id="payments" class="page">
<h2 class="section-title">Payment Methods</h2>
<p style="text-align:center;margin-bottom:30px">Complete payment first, then send screenshot on WhatsApp.</p>
<div class="payments-grid">
<div class="card"><div class="info"><h3>ðŸ“± Easypaisa</h3><p>+92 322 4056148<br>Name: Hasnain</p></div></div>
<div class="card"><div class="info"><h3>ðŸŸ¡ Binance USDT (BEP20)</h3><p style="word-break:break-all">0x79aa47b9fb545e8c5472e7b419ede57a8013b5f8</p></div></div>
<div class="card"><div class="info"><h3>â‚¿ Bitcoin (BTC)</h3><p style="word-break:break-all">15ZGU3vtbV793k6mm4X2GG6kzTZbDS4LGE</p></div></div>
</div>
<div style="text-align:center;margin-top:40px"><a class="btn" href="https://wa.me/923259473693" target="_blank">Send Payment Screenshot</a></div>
</section>

<footer>Â© 2025 Hasnain Watches â€¢ Support +92 325 9473693</footer>
</div>

<div class="cart-modal" id="cartModal">
<button onclick="toggleCart()">Close</button>
<h3>Your Cart</h3>
<div id="cartItems"></div>
<button class="btn" onclick="goPayment()">Proceed to Payment</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, GoogleAuthProvider, signInWithRedirect, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyC1bEk0ysRxikHtduoOUMt4EQgJOgNEXfk",
  authDomain: "hasnain-watches.firebaseapp.com",
  projectId: "hasnain-watches",
  appId: "1:876801859100:web:66a474f87d6e09e55a49d9"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

window.doLogin = () => {
  signInWithEmailAndPassword(auth, loginEmail.value, loginPass.value)
    .then(() => {})
    .catch(e => alert(e.message));
};

window.googleLogin = () => signInWithRedirect(auth, provider);

onAuthStateChanged(auth, user => {
  if (user) {
    loginPage.style.display = 'none';
    site.classList.remove('hidden');
    window.currentUser = user;
  }
});

window.saveOrder = async (paymentMethod) => {
  if (!window.currentUser) return alert('Login required');
  if (cart.length === 0) return alert('Cart empty');

  await addDoc(collection(db, 'orders'), {
    customerEmail: currentUser.email,
    items: cart,
    paymentMethod: paymentMethod,
    status: 'Pending',
    createdAt: serverTimestamp()
  });

  cart = [];
  cartCount.innerText = 0;
  cartItems.innerHTML = '';
  alert('Order placed. Please upload payment screenshot.');
};
</script>

<script>
let cart=[];
function showPage(id){document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));document.getElementById(id).classList.add('active');window.scrollTo(0,0)}
function toggleCart(){cartModal.classList.toggle('open')}
function addToCart(name,img){cart.push({name,img});cartCount.innerText=cart.length;renderCart()}
function renderCart(){cartItems.innerHTML='';cart.forEach((i,idx)=>cartItems.innerHTML+=`<div class='cart-item'><img src='${i.img}'><span>${i.name}</span></div>`)}
function goPayment(){toggleCart();showPage('payments')}
const imgs=['https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3','https://images.unsplash.com/photo-1507679799987-c73779587ccf'];
['men','women','smart'].forEach(p=>{const el=document.getElementById(p+'Products');for(let i=1;i<=20;i++){el.innerHTML+=`<div class='card'><img src='${imgs[i%2]}'><div class='info'><h3>${p} Watch ${i}</h3><div class='price'>Rs ${(i+10)*1000}</div><button class='btn' onclick="addToCart('${p} Watch ${i}','${imgs[i%2]}')">Add to Cart</button></div></div>`}});
</script>
<!-- SCREENSHOT UPLOAD MODAL -->
<div id="uploadBox" class="cart-modal" style="left:0;right:auto;width:100%;max-width:500px">
<h3>Upload Payment Screenshot</h3>
<input type="file" id="screenshot" accept="image/*">
<button class="btn" style="width:100%;margin-top:15px" onclick="uploadScreenshot()">Upload Screenshot</button>
</div>

<script type="module">
import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";
import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

const firebaseConfig = {apiKey:"AIzaSyC1bEk0ysRxikHtduoOUMt4EQgJOgNEXfk",authDomain:"hasnain-watches.firebaseapp.com",projectId:"hasnain-watches",storageBucket:"hasnain-watches.firebasestorage.app",appId:"1:876801859100:web:66a474f87d6e09e55a49d9"};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const storage = getStorage(app);
let currentUser=null;

onAuthStateChanged(auth,u=>currentUser=u);

window.uploadScreenshot = async ()=>{
 const file=document.getElementById('screenshot').files[0];
 if(!file||!currentUser)return alert('Login & select file');
 const storageRef=ref(storage,'screenshots/'+Date.now()+file.name);
 await uploadBytes(storageRef,file);
 const url=await getDownloadURL(storageRef);
 await addDoc(collection(db,'orders'),{email:currentUser.email,items:cart,screenshot:url,status:'Paid',createdAt:serverTimestamp()});
 alert('Payment uploaded successfully');
 cart=[];cartCount.innerText=0;cartItems.innerHTML='';
 document.getElementById('uploadBox').classList.remove('open');
};
</script>
</body>
</html>
